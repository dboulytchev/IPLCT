\chapter{A Compiler for \textsc{x86/32}}

In this section, finally, we will consider a codegenerator for \textsc{x86/32} processor, the principal study object of the whole course. In this particular chapter we will only deal with the simplest compiler for straight-line programs, but as the source language evolves the native-code compiler will get more and more features.

Of course the main question for now is what implementing a native-code compiler amounts to. Luckily, as we will see shortly, this task is not much different from what we already can do. In order to turn our source program into machine code we only need to convert it into a text in an \emph{assembly} language. Then we entrust the \textsc{GCC} toolchain to make the rest of the work~--- compile this assembly program into object file, link (multiple) compiled object files and some libraries into executable, etc. This approach is by no means exotic~--- nowdays the majority of compilers are implemented exactly following this roadmap which makes it possible to reuse all stages of compilation starting from object file generation by many compilers (and thus avoid of making a lot of similar errors anew).

An important methodological difference of what we are going to do in this chapter is that we \emph{will not} discuss the operational semantics of the assembly language. The motivation is that this language is very similar in its generic features to stack machine language, which we already dealt with. As we generate native code from stack machine, the compiler assumed to be very simple, and its formal description is expected to be superfluous. On the other hand there are a lot of tiny simple details in machine architecture which would make formal description boring and cumbersome, so we better discuss them in informal terms. But this does not mean that assembly languages cannot be properly described in formal terms, and there are lots of witnesses of the contrary.

\section{\textsc{x86/32} Architecture and Instruction Set}

\section{Code Generation with Symbolic Interpreter}

\section{}


